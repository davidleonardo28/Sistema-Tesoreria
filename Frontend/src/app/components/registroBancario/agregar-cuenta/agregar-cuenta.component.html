<h1>Agregar Cuenta Bancaria</h1>


<mat-card class="card sombra">
    <form class="form-Agregar" [formGroup]="registroBancario" (ngSubmit)="onSaveForm()">
        <mat-form-field class="example-full-width" appearance="fill">
            <mat-label>SRP Tecnology</mat-label>
            <input matInput disabled value="SRP Tecnology">
        </mat-form-field>
        <div class="flexbox-container">
            <div>
                <p>
                    <mat-form-field class="example-full-width" appearance="fill">
                        <mat-label>Tipo De Cuenta</mat-label>
                        <mat-select formControlName="TipoCuenta">
                            <mat-option (change)="changeFunctionality($event)" *ngFor="let cuenta of tipoCuenta"
                                [value]="cuenta.id_tipo_cuenta">
                                {{cuenta.nombre_tipo_cuenta}}</mat-option>
                        </mat-select>
                        <div class="alert-danger"
                            *ngIf="TipoCuenta.invalid && (TipoCuenta.dirty || TipoCuenta.touched)">
                            <div class="container-error-message" *ngIf="TipoCuenta.errors?.required">
                                Selección de tipo de cuenta requerida.
                            </div>
                        </div>
                    </mat-form-field>

                </p>

                <p>
                    <mat-form-field class="example-full-width" appearance="fill">
                        <mat-label>Nombre del Banco</mat-label>
                        <mat-select formControlName="TipoBanco">
                            <mat-option (change)="changeFunctionality($event)" *ngFor="let banco of listaBancos"
                                [value]="banco.id_banco">
                                {{banco.nombre_banco}}</mat-option>
                        </mat-select>
                        <div class="alert-danger" *ngIf="TipoBanco.invalid && (TipoBanco.dirty || TipoBanco.touched)">
                            <div class="container-error-message" *ngIf="TipoBanco.errors?.required">
                                Selección del banco requerido.
                            </div>
                        </div>
                    </mat-form-field>

                </p>
                <p>
                    <mat-form-field class="example-full-width11" appearance="fill">
                        <mat-label>Número Cuenta Bancaria</mat-label>
                        <input matInput formControlName="CuentaBancaria">
                        <div class="alert-danger"
                            *ngIf="CuentaBancaria.invalid && (CuentaBancaria.dirty || CuentaBancaria.touched)">
                            <div class="container-error-message" *ngIf="CuentaBancaria.errors?.required">
                                Número de cuenta es requerido.
                            </div>
                        </div>
                        <div class="container-error-message" *ngIf="CuentaBancaria.errors?.minlength ">
                            Debe ser de mínimo 7 caracteres.
                        </div>
                        <div class="container-error-message"
                            *ngIf="(CuentaBancaria.dirty || CuentaBancaria.touched) && CuentaBancaria.invalid && CuentaBancaria.errors?.pattern">
                            Utilice un formato que coincida con el solicitado.
                        </div>
                    </mat-form-field>

                <p>
                    <mat-form-field class="example-full-width11" appearance="fill">
                        <mat-label>Saldo</mat-label>
                        <input matInput formControlName="saldo">
                        <div class="alert-danger" *ngIf="saldo.invalid && (saldo.dirty || saldo.touched)">
                            <div class="container-error-message" *ngIf="saldo.errors?.required">
                                Saldo de cuenta es requerido.
                            </div>
                            <div class="container-error-message"
                                *ngIf="(saldo.dirty || saldo.touched) && saldo.invalid && saldo.errors?.pattern">
                                Utilice un formato que coincida con el solicitado.
                            </div>
                        </div>
                    </mat-form-field>

                </p>
                <p>
                    <mat-form-field class="example-full-width" appearance="fill">
                        <mat-label>País</mat-label>
                        <mat-select formControlName="TipoPais" (change)="changeTipoPais($event)">
                            <mat-option (change)="changeFunctionality($event)" *ngFor="let Pais of Pais" [value]="Pais">
                                {{Pais}}</mat-option>
                        </mat-select>
                        <div class="alert-danger" *ngIf="TipoPais.invalid && (TipoPais.dirty || TipoPais.touched)">
                            <div class="container-error-message" *ngIf="TipoPais.errors?.required">
                                Seleccion De Banco requerido.
                            </div>
                        </div>
                    </mat-form-field>
                </p>
            </div>
            <div>
                <h2>Notas Adicionales</h2>
                <p>
                    <mat-form-field class="example-full-width1" appearance="fill">
                        <mat-label>Notas Adicionales</mat-label>
                        <textarea matInput placeholder="" formControlName="notas"></textarea>
                    </mat-form-field>
                </p>
            </div>

        </div>
        <div>
            <input class="boton1" type="submit" value="Agregar Cuenta" (click)="guardar()">
            <a href="http://localhost:4200/admin"><input class="boton1" type="button" value="Volver al menú"></a>
        </div>
    </form>
</mat-card>